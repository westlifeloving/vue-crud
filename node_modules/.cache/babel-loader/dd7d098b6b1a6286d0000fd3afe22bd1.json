{"ast":null,"code":"// import strategyDetail from '@/components/strategyDetail.vue'\nexport default {\n  name: \"vueStrategy\",\n\n  // components: {\n  //   strategyDetail\n  // },\n  data() {\n    return {\n      tableData: [{\n        id: '1',\n        name: \"示例规则_账号爆破防护\",\n        condition: \"URI 包含 /login  HTTP-Method 等于 POST  Referer 不存在\",\n        action: \"阻断\",\n        port: \"全部\",\n        priority: \"1\",\n        switchvalue: true\n      }, {\n        id: '2',\n        name: \"示例规则_API防护\",\n        condition: \"URI 包含 /api/  User-Agent 不等于 specialUA\",\n        action: \"阻断\",\n        port: \"全部\",\n        priority: \"2\",\n        switchvalue: true\n      }, {\n        id: '3',\n        name: \"示例规则_网络爬虫放行\",\n        condition: \"User-Agent 包含 spider\",\n        action: \"放行\",\n        port: \"全部\",\n        priority: \"3\",\n        switchvalue: true\n      }],\n      multipleSelection: [],\n      dialogTableVisible: false,\n      dialogFormVisible: false,\n      form: {\n        id: \"\",\n        name: \"\",\n        condition: \"\",\n        type: \"\",\n        field: \"\",\n        syboml: \"\",\n        content: \"\",\n        action: \"\",\n        port: \"\",\n        priority: \"\",\n        switchvalue: false\n      },\n      ruleForm: {\n        id: \"\",\n        name: \"\",\n        condition: \"\",\n        action: \"\",\n        port: \"\",\n        priority: \"\",\n        switchvalue: false\n      },\n      formLabelWidth: \"120px\",\n      rules: {\n        name: [{\n          required: true,\n          message: \"请输入策略名称\",\n          trigger: \"blur\"\n        }],\n        action: [{\n          required: true,\n          message: \"请选择匹配动作\",\n          trigger: \"change\"\n        }],\n        priority: [{\n          required: true,\n          message: \"请输入优先级\",\n          trigger: \"blur\"\n        }]\n      }\n    };\n  },\n\n  methods: {\n    toggleSelection(rows) {\n      if (rows) {\n        rows.forEach(row => {\n          this.$refs.multipleTable.toggleRowSelection(row);\n        });\n      } else {\n        this.$refs.multipleTable.clearSelection();\n      }\n    },\n\n    handleChange(value) {\n      console.log(value);\n    },\n\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n\n    handleEdit(index, row) {\n      console.log(index, row);\n    },\n\n    deleteRow(index, rows) {\n      this.$confirm(\"确定删除吗\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"success\",\n        callback: action => {\n          if (action === \"confirm\") {\n            rows.splice(index, 1);\n          }\n        }\n      });\n    },\n\n    openDialog() {\n      this.dialogVisible = true;\n    },\n\n    delAll() {\n      var d = this.tableData;\n      this.$refs.multipleTable.selection.forEach((Ele, index) => {\n        for (var i = 0; i < d.length; i++) {\n          var t = d[i].id;\n\n          if (t == Ele.id) {\n            d.splice(i, 1);\n          }\n        }\n\n        console.log(index);\n      });\n    }\n\n  }\n};","map":{"version":3,"mappings":"AA4ZA;AACA;EACAA,mBADA;;EAEA;EACA;EACA;EACAC;IACA;MACAC,YACA;QACAC,OADA;QAEAH,mBAFA;QAGAI,4DAHA;QAIAC,YAJA;QAKAC,UALA;QAMAC,aANA;QAOAC;MAPA,CADA,EAUA;QACAL,OADA;QAEAH,kBAFA;QAGAI,mDAHA;QAIAC,YAJA;QAKAC,UALA;QAMAC,aANA;QAOAC;MAPA,CAVA,EAmBA;QACAL,OADA;QAEAH,mBAFA;QAGAI,iCAHA;QAIAC,YAJA;QAKAC,UALA;QAMAC,aANA;QAOAC;MAPA,CAnBA,CADA;MA8BAC,qBA9BA;MA+BAC,yBA/BA;MAgCAC,wBAhCA;MAiCAC;QACAT,MADA;QAEAH,QAFA;QAGAI,aAHA;QAIAS,QAJA;QAKAC,SALA;QAMAC,UANA;QAOAC,WAPA;QAQAX,UARA;QASAC,QATA;QAUAC,YAVA;QAWAC;MAXA,CAjCA;MA8CAS;QACAd,MADA;QAEAH,QAFA;QAGAI,aAHA;QAIAC,UAJA;QAKAC,QALA;QAMAC,YANA;QAOAC;MAPA,CA9CA;MAuDAU,uBAvDA;MAwDAC;QACAnB;UAAAoB;UAAAC;UAAAC;QAAA,EADA;QAEAjB,SACA;UAAAe;UAAAC;UAAAC;QAAA,CADA,CAFA;QAKAf,WACA;UAAAa;UAAAC;UAAAC;QAAA,CADA;MALA;IAxDA;EAkEA,CAxEA;;EA0EAC;IACAC;MACA;QACAC;UACA;QACA,CAFA;MAGA,CAJA,MAIA;QACA;MACA;IACA,CATA;;IAUAC;MACAC;IACA,CAZA;;IAaAC;MACA;IACA,CAfA;;IAgBAC;MACAF;IACA,CAlBA;;IAmBAG;MACA;QACAC,uBADA;QAEAC,sBAFA;QAGAnB,eAHA;QAIAoB;UACA;YACAR;UACA;QACA;MARA;IAUA,CA9BA;;IA+BAS;MACA;IACA,CAjCA;;IAkCAC;MACA;MACA;QACA;UACA;;UACA;YACAC;UACA;QACA;;QACAT;MACA,CARA;IASA;;EA7CA;AA1EA","names":["name","data","tableData","id","condition","action","port","priority","switchvalue","multipleSelection","dialogTableVisible","dialogFormVisible","form","type","field","syboml","content","ruleForm","formLabelWidth","rules","required","message","trigger","methods","toggleSelection","rows","handleChange","console","handleSelectionChange","handleEdit","deleteRow","confirmButtonText","cancelButtonText","callback","openDialog","delAll","d"],"sourceRoot":"src","sources":["App.vue"],"sourcesContent":["<template>\n  <el-container style=\"height: 100%; border: 1px solid #eee\">\n    <el-aside width=\"200px\" style=\"background-color: rgb(238, 241, 246)\">\n      <el-menu\n        :default-openeds=\"[]\"\n        background-color=\"#545c64\"\n        text-color=\"#fff\"\n      >\n        <el-submenu index=\"1\">\n          <template slot=\"title\"><i></i>域名管理</template>\n          <el-menu-item index=\"1-1\">服务概览</el-menu-item>\n          <el-menu-item index=\"1-2\">域名列表</el-menu-item>\n          <el-menu-item index=\"1-3\">流量记录</el-menu-item>\n          <el-menu-item index=\"1-4\">通用设置</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"2\">\n          <template slot=\"title\"><i></i>抗D保</template>\n          <el-menu-item index=\"2-1\">概览</el-menu-item>\n          <el-menu-item index=\"2-2\">报表</el-menu-item>\n          <el-menu-item index=\"2-3\">功能管理</el-menu-item>\n          <el-menu-item index=\"2-4\">智慧引擎</el-menu-item>\n          <el-menu-item index=\"2-5\">DDos告警</el-menu-item>\n          <el-menu-item index=\"2-6\">日志下载</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"3\">\n          <template slot=\"title\"><i></i>创宇盾(WAF)</template>\n          <el-menu-item index=\"3-1\">概览</el-menu-item>\n          <el-menu-item index=\"3-2\">报表</el-menu-item>\n          <el-menu-item index=\"3-3\">功能管理</el-menu-item>\n          <el-menu-item index=\"3-4\">日志下载</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"4\">\n          <template slot=\"title\"><i></i>加速乐(SCDN)</template>\n          <el-menu-item index=\"4-1\">概览</el-menu-item>\n          <el-menu-item index=\"4-2\">报表</el-menu-item>\n          <el-menu-item index=\"4-3\">缓存刷新</el-menu-item>\n          <el-menu-item index=\"4-4\">功能管理</el-menu-item>\n          <el-menu-item index=\"4-5\">日志下载</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"5\">\n          <template slot=\"title\"><i></i>应用保</template>\n          <el-menu-item index=\"5-1\">功能设置</el-menu-item>\n          <el-menu-item index=\"5-2\">报表</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"6\">\n          <template slot=\"title\"><i></i>数据盾</template>\n          <el-menu-item index=\"6-1\">功能设置</el-menu-item>\n          <el-menu-item index=\"6-2\">报表</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"7\">\n          <template slot=\"title\"><i></i>净网盾</template>\n          <el-menu-item index=\"7-1\">功能设置</el-menu-item>\n          <el-menu-item index=\"7-2\">报表</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"8\">\n          <template slot=\"title\"><i></i>隐私盾</template>\n          <el-menu-item index=\"8-1\">功能设置</el-menu-item>\n          <el-menu-item index=\"8-2\">报表</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"9\">\n          <template slot=\"title\"><i></i>SSL安全网关</template>\n          <el-menu-item index=\"9-1\">功能设置</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"10\">\n          <template slot=\"title\"><i></i>HTTPDNS</template>\n          <el-menu-item index=\"10-1\">功能设置</el-menu-item>\n          <el-menu-item index=\"10-2\">报表</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"11\">\n          <template slot=\"title\"><i></i>实时防御动态图</template>\n          <el-menu-item index=\"11-1\">功能设置</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"12\">\n          <template slot=\"title\"><i></i>威胁情报</template>\n          <el-menu-item index=\"12-1\">威胁情报查询</el-menu-item>\n          <el-menu-item index=\"12-2\">协同防御查询</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"13\">\n          <template slot=\"title\"><i></i>告警中心</template>\n          <el-menu-item index=\"13-1\">告警总览</el-menu-item>\n          <el-menu-item index=\"13-2\">告警设置</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"14\">\n          <template slot=\"title\"><i></i>增值服务</template>\n          <el-menu-item index=\"14-1\">高级设置</el-menu-item>\n          <el-menu-item index=\"14-2\">增值模块</el-menu-item>\n          <el-menu-item index=\"14-3\">API管理</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"15\">\n          <template slot=\"title\"><i></i>证书购买</template>\n          <el-menu-item index=\"15-1\">自助购买</el-menu-item>\n          <el-menu-item index=\"15-2\">订单管理</el-menu-item>\n        </el-submenu>\n        <el-submenu index=\"16\">\n          <template slot=\"title\"><i></i>系统管理</template>\n          <el-menu-item index=\"16-1\">日志下载</el-menu-item>\n          <el-menu-item index=\"16-2\">操作日志</el-menu-item>\n          <el-menu-item index=\"16-3\">子账户</el-menu-item>\n          <el-menu-item index=\"16-4\">角色权限</el-menu-item>\n        </el-submenu>\n      </el-menu>\n    </el-aside>\n\n    <el-container>\n      <el-header>\n        <el-menu\n          class=\"el-menu-demo\"\n          mode=\"horizontal\"\n          background-color=\"#545c64\"\n          text-color=\"#fff\"\n          active-text-color=\"#ffd04b\"\n        >\n          <el-menu-item index=\"1\">控制台首页</el-menu-item>\n          <el-submenu index=\"2\">\n            <template slot=\"title\">产品控制面板</template>\n            <el-submenu index=\"2-1\">\n              <template slot=\"title\">技术安全</template>\n              <el-menu-item index=\"2-1-1\">抗D保</el-menu-item>\n              <el-menu-item index=\"2-1-2\">创宇盾</el-menu-item>\n              <el-menu-item index=\"2-1-3\">加速乐</el-menu-item>\n              <el-menu-item index=\"2-1-4\">创宇监控</el-menu-item>\n              <el-menu-item index=\"2-1-5\">漏洞扫描</el-menu-item>\n            </el-submenu>\n            <el-submenu index=\"2-2\">\n              <template slot=\"title\">业务安全</template>\n              <el-menu-item index=\"2-2-1\">护架卫士</el-menu-item>\n              <el-menu-item index=\"2-2-2\">羊毛盾</el-menu-item>\n              <el-menu-item index=\"2-2-3\">净网盾</el-menu-item>\n              <el-menu-item index=\"2-2-4\">数据盾</el-menu-item>\n              <el-menu-item index=\"2-2-5\">流量反欺诈</el-menu-item>\n              <el-menu-item index=\"2-2-6\">金融反欺诈</el-menu-item>\n              <el-menu-item index=\"2-2-7\">ScanA网站内容安全</el-menu-item>\n              <el-menu-item index=\"2-2-8\">云监测</el-menu-item>\n            </el-submenu>\n            <el-submenu index=\"2-3\">\n              <template slot=\"title\">商业安全</template>\n              <el-menu-item index=\"2-3-1\">SSL证书</el-menu-item>\n            </el-submenu>\n            <el-submenu index=\"2-4\">\n              <template slot=\"title\">安全服务</template>\n              <el-menu-item index=\"2-4-1\">渗透测试</el-menu-item>\n              <el-menu-item index=\"2-4-2\">代码审计</el-menu-item>\n            </el-submenu>\n          </el-submenu>\n          <el-submenu index=\"3\">\n            <template slot=\"title\">消息</template>\n            <el-menu-item index=\"3-1\">站内消息</el-menu-item>\n          </el-submenu>\n          <el-submenu index=\"4\">\n            <template slot=\"title\">费用</template>\n            <el-menu-item index=\"4-1\">账户余额</el-menu-item>\n            <el-menu-item index=\"4-2\">我的订单</el-menu-item>\n            <el-menu-item index=\"4-3\">收支明细</el-menu-item>\n            <el-menu-item index=\"4-4\">优惠券</el-menu-item>\n            <el-menu-item index=\"4-5\">发票管理</el-menu-item>\n          </el-submenu>\n          <el-menu-item index=\"5\">帮助</el-menu-item>\n          <el-submenu class=\"userinfor\" index=\"6\">\n            <template slot=\"title\">admin</template>\n            <el-menu-item index=\"6-1\">基本信息</el-menu-item>\n            <el-menu-item index=\"6-2\">地址管理</el-menu-item>\n            <el-menu-item index=\"6-3\">重制密码</el-menu-item>\n            <el-menu-item index=\"6-4\">安全退出</el-menu-item>\n          </el-submenu>\n        </el-menu>\n      </el-header>\n\n      <el-main>\n        <el-breadcrumb style=\"margin: 0 0 30px\" separator=\"/\">\n          <el-breadcrumb-item :to=\"{ path: '/' }\">创宇盾</el-breadcrumb-item>\n          <el-breadcrumb-item><a href=\"/\">防御设置</a></el-breadcrumb-item>\n          <el-breadcrumb-item>精准访问控制</el-breadcrumb-item>\n        </el-breadcrumb>\n        <el-row style=\"margin: 20px 0\">\n          <el-page-header title=\"\" back=\"\" content=\"精准访问控制策略\">精准访问控制策略</el-page-header>\n        </el-row>\n        <el-row>\n          <div>\n          <el-button type=\"primary\" @click=\"dialogFormVisible = true; isEdit = true; openDialog\"\n            >添加策略</el-button\n          >\n          <!-- <strategyDetail ref=\"strategyDetail\" :dialogVisible=\"dialogVisible\" @closeDialog=\"dialogVisible = false\"></strategyDetail> -->\n          <span style=\"font-size: 10px; color: grey; margin-left: 15px\"\n            >最多可添加20条策略。</span\n          ></div>\n          <el-dialog\n            style=\"width: 130%; margin-left: -10%\"\n            :visible.sync=\"dialogFormVisible\"\n            :title=\"isEdit? '添加策略' : '修改策略'\"\n          >\n            <el-divider></el-divider>\n            <el-form\n              :model=\"ruleForm\"\n              :rules=\"rules\"\n              ref=\"ruleForm\"\n              label-width=\"100px\"\n              class=\"demo-ruleForm\"\n            >\n              <el-form-item\n                label=\"策略名称\"\n                :label-width=\"formLabelWidth\"\n                prop=\"name\"\n              >\n                <el-input\n                  class=\"addname\"\n                  v-model=\"ruleForm.name\"\n                  autocomplete=\"off\"\n                ></el-input>\n              </el-form-item>\n              <el-form-item\n                label=\"匹配条件\"\n                :label-width=\"formLabelWidth\"\n                prop=\"condition\"\n              >\n                <el-table\n                  :header-cell-style=\"{\n                    background: 'rgb(64,158,255,0.1)',\n                    height: '45px',\n                  }\"\n                  style=\"\n                    margin: 15px 0;\n                    width: 100%;\n                    border: 1px solid #dcdfe6;\n                    border-radius: 4px;\n                  \"\n                >\n                  <el-table-column label=\"类型\" width=\"150\">\n\n                    <template slot-scope>\n                      <el-select v-model=\"form.type\" placeholder=\"基础\">\n                        <el-option value=\"基础\" label=\"基础\"></el-option>\n                        <el-option value=\"自定义\" label=\"自定义\"></el-option>\n                      </el-select> </template\n                  ></el-table-column>\n                  <el-table-column\n                    property=\"field\"\n                    label=\"匹配字段\"\n                    width=\"200\"\n                  >\n\n                    <template slot-scope>\n                      <el-select v-model=\"form.field\" placeholder=\"字段\">\n                        <el-option value=\"Cookie\" label=\"Cookie\"></el-option>\n                        <el-option value=\"Referer\" label=\"Referer\"></el-option>\n                        <el-option\n                          value=\"HTTP-Method\"\n                          label=\"HTTP-Method\"\n                        ></el-option>\n                        <el-option\n                          value=\"User-Agent\"\n                          label=\"User-Agent\"\n                        ></el-option>\n                        <el-option\n                          value=\"X-Forwarded-For\"\n                          label=\"X-Forwarded-For\"\n                        ></el-option>\n                        <el-option value=\"URI\" label=\"URI\"></el-option>\n                      </el-select> </template\n                  ></el-table-column>\n                  <el-table-column property=\"symbol\" label=\"逻辑符\">\n\n                    <template slot-scope>\n                      <el-select v-model=\"form.symbol\" placeholder=\"逻辑符\">\n                        <el-option value=\"包含\" label=\"包含\"></el-option>\n                        <el-option value=\"不包含\" label=\"不包含\"></el-option>\n                        <el-option value=\"等于\" label=\"等于\"></el-option>\n                        <el-option value=\"不等于\" label=\"不等于\"></el-option>\n                        <el-option\n                          value=\"长度小于\"\n                          label=\"长度小于\"\n                        ></el-option>\n                        <el-option\n                          value=\"长度等于\"\n                          label=\"长度等于\"\n                        ></el-option>\n                      </el-select>\n                    </template>\n                  </el-table-column>\n                  <el-table-column property=\"content\" label=\"匹配内容\">\n\n                    <template slot-scope>\n                      <el-input\n                        class=\"content\"\n                        v-model=\"form.content\"\n                        placeholder=\"只允许填写一个匹配项\"\n                      ></el-input>\n                    </template>\n                  </el-table-column>\n                </el-table>\n                <p class=\"note\">\n                  1、每条策略最多添加3个条件，且所有条件全部匹配上，该策略才生效。\n                </p>\n                <p class=\"note\">\n                  2、自定义字段只允许使用字母、数字、横杠，不超过50个字符，且不能与可选字段重复。\n                  <a\n                    href=\"http://help.yunaq.com/faq/1442/index.html\"\n                    target=\"_blank\"\n                    >查看匹配字段说明</a\n                  >\n                </p>\n              </el-form-item>\n              <el-form-item\n                label=\"匹配动作\"\n                :label-width=\"formLabelWidth\"\n                prop=\"action\"\n              >\n                <el-select v-model=\"ruleForm.action\" placeholder=\"阻断\">\n                  <el-option label=\"阻断\" value=\"阻断\"></el-option>\n                  <el-option label=\"放行\" value=\"放行\"></el-option>\n                  <el-option label=\"记录\" value=\"记录\"></el-option>\n                  <el-option label=\"JS挑战\" value=\"JS挑战\"></el-option>\n                  <el-option label=\"验证码\" value=\"验证码\"></el-option>\n                </el-select>\n              </el-form-item>\n              <el-form-item\n                label=\"优先级\"\n                :label-width=\"formLabelWidth\"\n                prop=\"priority\"\n              >\n                <el-input-number\n                  v-model=\"ruleForm.priority\"\n                  controls-position=\"right\"\n                  @change=\"handleChange\"\n                  :min=\"1\"\n                  :max=\"100\"\n                  placeholder=\"1\"\n                ></el-input-number>\n                <span class=\"note\"\n                  >请填入数字1~100，数字越小代表优先级越高。</span\n                >\n              </el-form-item>\n              <el-form-item\n                label=\"生效端口\"\n                :label-width=\"formLabelWidth\"\n                prop=\"port\"\n              >\n                <el-select v-model=\"ruleForm.port\" placeholder=\"\">\n                  <el-option label=\"443\" value=\"443\"></el-option>\n                  <el-option label=\"8080\" value=\"8080\"></el-option>\n                </el-select>\n                <span class=\"note\">不填写默认对所有端口生效</span>\n              </el-form-item>\n            </el-form>\n            <div slot=\"footer\" class=\"dialog-footer\">\n              <el-button @click=\"dialogFormVisible = false\">取 消</el-button>\n              <el-button type=\"primary\" @click=\"dialogFormVisible = false\"\n                >确 定</el-button\n              >\n            </div>\n          </el-dialog>\n        </el-row>\n        <el-table\n          ref=\"multipleTable\"\n          :data=\"tableData\"\n          tooltip-effect=\"dark\"\n          :header-cell-style=\"{ background: 'rgb(64,158,255,0.1)' }\"\n          style=\"\n            margin: 15px 0;\n            width: 100%;\n            border: 1px solid #dcdfe6;\n            border-radius: 4px;\n          \"\n          @selection-change=\"handleSelectionChange\"\n        >\n          <el-table-column type=\"selection\" width=\"55\"> </el-table-column>\n          <el-table-column prop=\"name\" label=\"策略名称\" width=\"130\">\n          </el-table-column>\n          <el-table-column prop=\"condition\" label=\"匹配条件\" width=\"120\">\n          </el-table-column>\n          <el-table-column prop=\"action\" label=\"匹配动作\"> </el-table-column>\n          <el-table-column prop=\"port\" label=\"生效端口\"> </el-table-column>\n          <el-table-column prop=\"priority\" label=\"优先级\"> </el-table-column>\n          <el-table-column prop=\"switch\" label=\"策略开关\">\n            <el-switch\n              v-model=\"switchvalue\"\n              active-color=\"#409EFF\"\n              inactive-color=\"#C1D0DB\"\n            >\n            </el-switch>\n          </el-table-column>\n          <el-table-column prop=\"operation\" label=\"操作\">\n            <template slot-scope=\"scope\">\n              <el-button\n                @click=\"dialogFormVisible = true;isEdit = false;handleEdit(scope.$index, scope.row)\"\n                type=\"text\"\n                size=\"small\"\n                >修改</el-button\n              >\n              <el-button\n                @click.native.prevent=\"deleteRow(scope.$index, tableData)\"\n                type=\"text\"\n                size=\"small\"\n                >删除</el-button\n              >\n            </template>\n          </el-table-column>\n        </el-table>\n        <el-row>\n          <el-button\n            @click=\"delAll()\"\n            style=\"border: none; color: #c0c4cc; font-size: 12px\"\n            type=\"text\"\n            size=\"small\"\n            >批量删除</el-button\n          >\n        </el-row>\n      </el-main>\n    </el-container>\n  </el-container>\n</template>\n\n<script>\n// import strategyDetail from '@/components/strategyDetail.vue'\nexport default {\n  name: \"vueStrategy\",\n  // components: {\n  //   strategyDetail\n  // },\n  data() {\n    return {\n      tableData: [\n        {\n          id:'1',\n          name: \"示例规则_账号爆破防护\",\n          condition: \"URI 包含 /login  HTTP-Method 等于 POST  Referer 不存在\",\n          action: \"阻断\",\n          port: \"全部\",\n          priority: \"1\",\n          switchvalue: true,\n        },\n        {\n          id:'2',\n          name: \"示例规则_API防护\",\n          condition: \"URI 包含 /api/  User-Agent 不等于 specialUA\",\n          action: \"阻断\",\n          port: \"全部\",\n          priority: \"2\",\n          switchvalue: true,\n        },\n        {\n          id:'3',\n          name: \"示例规则_网络爬虫放行\",\n          condition: \"User-Agent 包含 spider\",\n          action: \"放行\",\n          port: \"全部\",\n          priority: \"3\",\n          switchvalue: true,\n        },\n      ],\n      multipleSelection: [],\n      dialogTableVisible: false,\n      dialogFormVisible: false,\n      form: {\n        id:\"\",\n        name: \"\",\n        condition: \"\",\n        type: \"\",\n        field: \"\",\n        syboml: \"\",\n        content: \"\",\n        action: \"\",\n        port: \"\",\n        priority: \"\",\n        switchvalue: false,\n      },\n      ruleForm: {\n        id:\"\",\n        name: \"\",\n        condition: \"\",\n        action: \"\",\n        port: \"\",\n        priority: \"\",\n        switchvalue: false,\n      },\n      formLabelWidth: \"120px\",\n      rules: {\n        name: [{ required: true, message: \"请输入策略名称\", trigger: \"blur\" }],\n        action: [\n          { required: true, message: \"请选择匹配动作\", trigger: \"change\" },\n        ],\n        priority: [\n          { required: true, message: \"请输入优先级\", trigger: \"blur\" },\n        ],\n      },\n    };\n  },\n\n  methods: {\n    toggleSelection(rows) {\n      if (rows) {\n        rows.forEach((row) => {\n          this.$refs.multipleTable.toggleRowSelection(row);\n        });\n      } else {\n        this.$refs.multipleTable.clearSelection();\n      }\n    },\n    handleChange(value) {\n      console.log(value);\n    },\n    handleSelectionChange(val) {\n      this.multipleSelection = val;\n    },\n    handleEdit(index, row) {\n      console.log(index, row);\n    },\n    deleteRow(index, rows) {\n      this.$confirm(\"确定删除吗\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"success\",\n        callback: (action) => {\n          if (action === \"confirm\") {\n            rows.splice(index, 1);\n          }\n        },\n      });\n    },\n    openDialog() {\n      this.dialogVisible = true\n    },\n    delAll() {\n\t\t\tvar d = this.tableData;\n\t\t\tthis.$refs.multipleTable.selection.forEach((Ele, index) => {\n\t\t\tfor(var i = 0 ; i<d.length; i ++ ){\n\t\t\t\tvar t = d[i].id;\n\t\t\t\tif( t == Ele.id ){\n\t\t\t\t\td.splice(i , 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\t\tconsole.log(index);\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n  },\n};\n</script>\n\n<style>\n.el-header {\n  color: #333;\n  line-height: 60px;\n}\n\n.el-aside {\n  color: #333;\n}\n\n.note {\n  color: rgb(255, 196, 0);\n  font-size: 10px;\n  margin: 0 0 0 10px;\n}\n\n.el-dialog {\n  margin-left: 40vh;\n}\n\n.el-divider--horizontal {\n  margin: 10px 0 15px 0 !important;\n}\n\n.el-dialog__body {\n  padding: 0px 20px !important;\n}\n\n.el-form-item__label {\n  width: 80px !important;\n}\n\n.el-form-item__content {\n  margin-left: 100px !important;\n}\n\n.addname {\n  width: 40% !important;\n}\n\n.el-page-header__left .el-icon-back {\n    font-size: 0px !important; \n    margin-right: 0px !important;\n}\n\n[class*=\" el-icon-\"], [class^=el-icon-] {\n  font-family:Arial, Helvetica, sans-serif !important;\n}\n\n.el-page-header__left {\n  margin-left: -20px !important;\n  margin-right: 20px !important;\n}\n\n.el-page-header__left::after {\n  background-color: #0080ff !important;\n  width: 2px !important;\n}\n/* .el-menu--horizontal>.el-submenu {\n  float:left !important;\n} */\n</style>\n"]},"metadata":{},"sourceType":"module"}